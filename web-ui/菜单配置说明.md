# 时光搜索菜单配置说明

## 配置目标

根据用户需求，需要配置以下菜单项：

1. **顶部导航栏菜单**：添加"时光搜索"菜单项，路由名为`search`，点击跳转到搜索页面
2. **保留垂直搜索**：点击垂直搜索时仍在管理后台，不进入搜索页面
3. **后台管理左侧菜单**：在"系统管理"下添加"时光搜索"子菜单，路由名为`my_search`，用于数据源管理

## 当前状态

✅ **已完成的工作：**
- 创建了搜索页面组件：`/src/views/search/MySearch.vue`（支持两个路由：/search 和 /my_search）
- 创建了搜索结果页面：`/src/views/search/SearchResults.vue`（路由：/result）
- 创建了数据源管理页面：`/src/views/sys/search_source/Index.vue`（路由：/sys/my_search）
- 已配置路由支持免登录访问（requiresAuth: false）

## 路由配置说明

当前路由配置已更新，包含以下搜索相关路由：

```javascript
// 顶部导航栏的搜索页面（免登录）
{
  path: '/search',
  name: 'search',
  component: () => import('@/views/search/MySearch.vue'),
  meta: {
    label: '时光搜索',
    breadcrumbName: ['时光搜索'],
    requiresAuth: false
  }
},

// 后台管理的搜索页面（免登录）
{
  path: '/my_search',
  name: 'my_search',
  component: () => import('@/views/search/MySearch.vue'),
  meta: {
    label: '时光搜索',
    breadcrumbName: ['时光搜索'],
    requiresAuth: false
  }
},

// 搜索结果页面（免登录）
{
  path: '/result',
  name: 'result', 
  component: () => import('@/views/search/SearchResults.vue'),
  meta: {
    label: '搜索结果',
    breadcrumbName: ['时光搜索', '搜索结果'],
    requiresAuth: false
  }
},

// 后台管理内的时光搜索数据源管理
{
  path: 'my_search',
  name: 'my_search',
  component: () => import('@/views/sys/search_source/Index.vue'),
  meta: {
    label: '时光搜索',
    breadcrumbName: ['系统管理', '时光搜索']
  }
}
```

## 菜单配置步骤

### 1. 添加顶部导航栏菜单

**访问路径**：系统管理 -> 菜单管理 -> 新增菜单

**配置信息**：
- 菜单名称：时光搜索
- 父级菜单：顶级菜单
- 路由名称：search
- 菜单位置：顶部菜单
- 序号：1（或根据需要调整）
- 是否显示：显示
- 状态：启用

### 2. 添加后台管理左侧菜单（时光搜索）

**访问路径**：系统管理 -> 菜单管理 -> 新增菜单

**配置信息**：
- 菜单名称：时光搜索
- 父级菜单：系统管理
- 路由名称：my_search
- 菜单位置：侧边菜单
- 序号：100（或根据需要调整）
- 是否显示：显示
- 状态：启用

## 功能说明

### 搜索页面功能
- 支持关键词搜索
- 响应式设计，适配不同屏幕尺寸
- 支持分页显示搜索结果
- URL参数传递搜索关键词
- 支持免登录访问

### 数据源管理功能
- 支持文件、数据库、API三种数据源类型
- 可视化配置管理
- 连接测试功能
- 数据源状态管理
- 需要管理员权限访问

## 访问地址

- **顶部导航栏搜索页面**：http://localhost:3001/search
- **后台管理搜索页面**：http://localhost:3001/my_search
- **搜索结果页面**：http://localhost:3001/result?q=关键词
- **后台数据源管理**：http://localhost:3001/sys/my_search

## 注意事项

1. 顶部导航栏的"时光搜索"菜单点击后会跳转到搜索页面（/search）
2. 垂直搜索功能仍保留在管理后台，不进入搜索页面
3. 后台管理的"时光搜索"菜单用于数据源管理，需要管理员权限
4. 两个搜索页面（/search 和 /my_search）功能相同，只是路由不同
5. 搜索页面支持免登录访问

## 测试验证

配置完成后，请验证以下功能：

1. ✅ 顶部导航栏显示"时光搜索"菜单
2. ✅ 点击顶部菜单跳转到搜索页面（/search）
3. ✅ 后台管理左侧菜单显示"系统管理" -> "时光搜索"
4. ✅ 点击后台"时光搜索"菜单进入数据源管理页面
5. ✅ 搜索功能正常工作
6. ✅ 垂直搜索仍在管理后台，不跳转