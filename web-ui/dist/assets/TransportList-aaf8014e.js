import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{f as n,A as Q,S as Z,Y as q,Z as H,p as J,R as X,Q as K,a as w,r as $,I as ee,o as c,g as _,e as m,w as o,k as h,M as U,b as d,h as r,c as g,t as T,l as C}from"./index-697510e5.js";import{a as te,b as se,c as ne,F as ae}from"./FolderTwoTone-7b2e455e.js";var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"};const le=oe;function W(i){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable}))),s.forEach(function(u){ie(i,u,a[u])})}return i}function ie(i,e,a){return e in i?Object.defineProperty(i,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[e]=a,i}var S=function(e,a){var s=W({},e,a.attrs);return n(Q,W({},s,{icon:le}),null)};S.displayName="PauseCircleOutlined";S.inheritAttrs=!1;const re=S;var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};const ue=de;function G(i){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable}))),s.forEach(function(u){ce(i,u,a[u])})}return i}function ce(i,e,a){return e in i?Object.defineProperty(i,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[e]=a,i}var z=function(e,a){var s=G({},e,a.attrs);return n(Q,G({},s,{icon:ue}),null)};z.displayName="PlayCircleOutlined";z.inheritAttrs=!1;const pe=z;const me={name:"TransportList",components:{SearchOutlined:Z,FileOutlined:q,FolderOutlined:H,DeleteOutlined:J,PauseCircleOutlined:re,PlayCircleOutlined:pe,ReloadOutlined:X,FileImageTwoTone:te,FileTextTwoTone:se,FilePdfTwoTone:ne,FileTwoTone:K,FolderTwoTone:ae},setup(){const i=w(!1),e=w(""),a=w(""),s=w(""),u=w([{id:1,name:"document.pdf",type:"download",status:"running",progress:65,speed:"2.5 MB/s",size:10485760,createTime:"2024-01-15 14:30:00"},{id:2,name:"project_folder",type:"upload",status:"success",progress:100,speed:"1.8 MB/s",size:52428800,createTime:"2024-01-15 14:25:00"},{id:3,name:"vacation-photo.jpg",type:"download",status:"failed",progress:45,speed:"0 MB/s",size:3145728,createTime:"2024-01-15 14:20:00"},{id:4,name:"presentation.pptx",type:"upload",status:"paused",progress:30,speed:"0 MB/s",size:15728640,createTime:"2024-01-15 14:15:00"},{id:5,name:"video-tutorial.mp4",type:"download",status:"pending",progress:0,speed:"0 MB/s",size:104857600,createTime:"2024-01-15 14:10:00"},{id:6,name:"notes.txt",type:"upload",status:"running",progress:80,speed:"1.2 MB/s",size:524288,createTime:"2024-01-15 14:05:00"},{id:7,name:"archive.zip",type:"download",status:"success",progress:100,speed:"3.0 MB/s",size:52428800,createTime:"2024-01-15 14:00:00"}]),F=[{title:"名称",dataIndex:"name",key:"name",width:"25%"},{title:"类型",dataIndex:"type",key:"type",width:"8%"},{title:"状态",dataIndex:"status",key:"status",width:"10%"},{title:"进度",dataIndex:"progress",key:"progress",width:"15%"},{title:"速度",dataIndex:"speed",key:"speed",width:"12%"},{title:"大小",dataIndex:"size",key:"size",width:"10%"},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"15%"},{title:"操作",key:"action",width:"15%"}],k=$({current:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showTotal:(t,l)=>`第 ${l[0]}-${l[1]} 条/总共 ${t} 条`}),x=ee(()=>{let t=u.value;return e.value&&(t=t.filter(l=>l.name.toLowerCase().includes(e.value.toLowerCase()))),a.value&&(t=t.filter(l=>l.type===a.value)),s.value&&(t=t.filter(l=>l.status===s.value)),t});return{loading:i,searchName:e,searchType:a,searchStatus:s,transportData:u,columns:F,paginationConfig:k,filteredData:x,getTypeColor:t=>t==="upload"?"blue":"green",getStatusColor:t=>({pending:"default",paused:"warning",running:"processing",success:"success",failed:"error"})[t]||"default",getStatusText:t=>({pending:"未开始",paused:"暂停中",running:"进行中",success:"成功",failed:"失败"})[t]||t,getProgressStatus:t=>t==="success"?"success":t==="failed"?"exception":"active",formatFileSize:t=>{if(t===0)return"0 B";const l=1024,v=["B","KB","MB","GB"],V=Math.floor(Math.log(t)/Math.log(l));return parseFloat((t/Math.pow(l,V)).toFixed(2))+" "+v[V]},isFolder:t=>!t.includes("."),isImage:t=>[".jpg",".jpeg",".png",".gif",".bmp",".svg",".webp"].some(v=>t.toLowerCase().endsWith(v)),isText:t=>[".txt",".md",".doc",".docx",".log"].some(v=>t.toLowerCase().endsWith(v)),isPDF:t=>t.toLowerCase().endsWith(".pdf"),handleSearch:()=>{},handleReset:()=>{e.value="",a.value="",s.value="",h.success("搜索条件已重置")},handlePause:t=>{h.success(`已暂停 ${t.name}`),t.status="paused",t.speed="0 MB/s"},handleResume:t=>{h.success(`已继续 ${t.name}`),t.status="running",t.speed="2.5 MB/s"},handleRetry:t=>{h.success(`已重试 ${t.name}`),t.status="running",t.progress=0,t.speed="1.5 MB/s"},handleDelete:t=>{U.confirm({title:"确认删除",content:`确定要删除传输记录 "${t.name}" 吗？`,onOk(){const l=u.value.findIndex(v=>v.id===t.id);l>-1&&(u.value.splice(l,1),h.success("删除成功"))}})},handleClearAll:()=>{U.confirm({title:"确认清空",content:"确定要清空所有传输记录吗？此操作不可恢复。",okText:"确定",okType:"danger",cancelText:"取消",onOk(){u.value=[],h.success("已清空所有传输记录")}})}}}},fe={class:"transport-list-container"},ge={class:"toolbar"},ye={class:"toolbar-left"},ve={class:"search-item"},_e={class:"search-item"},he={class:"search-item"},Te={class:"search-buttons"},we={class:"toolbar-right"},Ce={class:"transport-list"},ke={key:0,class:"file-name"},xe={key:3,class:"progress-container"},Oe={class:"progress-text"},Pe={key:4},be={key:5},Se={key:6,class:"action-buttons"};function ze(i,e,a,s,u,F){const k=d("SearchOutlined"),x=d("a-input"),f=d("a-select-option"),O=d("a-select"),y=d("a-button"),P=d("DeleteOutlined"),M=d("FolderTwoTone"),B=d("FileImageTwoTone"),I=d("FileTextTwoTone"),D=d("FilePdfTwoTone"),R=d("FileTwoTone"),b=d("a-tag"),j=d("a-progress"),L=d("PauseCircleOutlined"),N=d("PlayCircleOutlined"),A=d("ReloadOutlined"),E=d("a-table");return c(),_("div",fe,[m("div",ge,[m("div",ye,[m("div",ve,[e[3]||(e[3]=m("span",{class:"search-label"},"名称：",-1)),n(x,{value:s.searchName,"onUpdate:value":e[0]||(e[0]=p=>s.searchName=p),placeholder:"搜索名称",style:{width:"200px","margin-right":"12px"}},{prefix:o(()=>[n(k)]),_:1},8,["value"])]),m("div",_e,[e[7]||(e[7]=m("span",{class:"search-label"},"传输类型：",-1)),n(O,{value:s.searchType,"onUpdate:value":e[1]||(e[1]=p=>s.searchType=p),placeholder:"传输类型",style:{width:"120px","margin-right":"12px"}},{default:o(()=>[n(f,{value:""},{default:o(()=>[...e[4]||(e[4]=[r("全部类型",-1)])]),_:1}),n(f,{value:"upload"},{default:o(()=>[...e[5]||(e[5]=[r("上传",-1)])]),_:1}),n(f,{value:"download"},{default:o(()=>[...e[6]||(e[6]=[r("下载",-1)])]),_:1})]),_:1},8,["value"])]),m("div",he,[e[14]||(e[14]=m("span",{class:"search-label"},"传输状态：",-1)),n(O,{value:s.searchStatus,"onUpdate:value":e[2]||(e[2]=p=>s.searchStatus=p),placeholder:"传输状态",style:{width:"120px","margin-right":"12px"}},{default:o(()=>[n(f,{value:""},{default:o(()=>[...e[8]||(e[8]=[r("全部状态",-1)])]),_:1}),n(f,{value:"pending"},{default:o(()=>[...e[9]||(e[9]=[r("未开始",-1)])]),_:1}),n(f,{value:"paused"},{default:o(()=>[...e[10]||(e[10]=[r("暂停中",-1)])]),_:1}),n(f,{value:"running"},{default:o(()=>[...e[11]||(e[11]=[r("进行中",-1)])]),_:1}),n(f,{value:"success"},{default:o(()=>[...e[12]||(e[12]=[r("成功",-1)])]),_:1}),n(f,{value:"failed"},{default:o(()=>[...e[13]||(e[13]=[r("失败",-1)])]),_:1})]),_:1},8,["value"])]),m("div",Te,[n(y,{type:"primary",onClick:s.handleSearch,style:{"margin-right":"8px"}},{default:o(()=>[...e[15]||(e[15]=[r(" 确定 ",-1)])]),_:1},8,["onClick"]),n(y,{onClick:s.handleReset},{default:o(()=>[...e[16]||(e[16]=[r(" 重置 ",-1)])]),_:1},8,["onClick"])])]),m("div",we,[n(y,{type:"primary",danger:"",onClick:s.handleClearAll},{icon:o(()=>[n(P)]),default:o(()=>[e[17]||(e[17]=r(" 清空记录 ",-1))]),_:1},8,["onClick"])])]),m("div",Ce,[n(E,{columns:s.columns,"data-source":s.filteredData,pagination:s.paginationConfig,loading:s.loading,"row-key":"id"},{bodyCell:o(({column:p,record:t})=>[p.key==="name"?(c(),_("div",ke,[s.isFolder(t.name)?(c(),g(M,{key:0,class:"file-icon folder-icon","two-tone-color":"#1890ff"})):s.isImage(t.name)?(c(),g(B,{key:1,class:"file-icon image-icon","two-tone-color":"#52c41a"})):s.isText(t.name)?(c(),g(I,{key:2,class:"file-icon text-icon","two-tone-color":"#722ed1"})):s.isPDF(t.name)?(c(),g(D,{key:3,class:"file-icon pdf-icon","two-tone-color":"#ff4d4f"})):(c(),g(R,{key:4,class:"file-icon file-icon","two-tone-color":"#fa8c16"})),m("span",null,T(t.name),1)])):p.key==="type"?(c(),g(b,{key:1,color:s.getTypeColor(t.type)},{default:o(()=>[r(T(t.type==="upload"?"上传":"下载"),1)]),_:2},1032,["color"])):p.key==="status"?(c(),g(b,{key:2,color:s.getStatusColor(t.status)},{default:o(()=>[r(T(s.getStatusText(t.status)),1)]),_:2},1032,["color"])):p.key==="progress"?(c(),_("div",xe,[n(j,{percent:t.progress,status:s.getProgressStatus(t.status),"show-info":!1,size:"small"},null,8,["percent","status"]),m("span",Oe,T(t.progress)+"%",1)])):p.key==="speed"?(c(),_("span",Pe,T(t.speed||"-"),1)):p.key==="size"?(c(),_("span",be,T(s.formatFileSize(t.size)),1)):p.key==="action"?(c(),_("div",Se,[t.status==="running"?(c(),g(y,{key:0,type:"link",size:"small",onClick:l=>s.handlePause(t)},{default:o(()=>[n(L),e[18]||(e[18]=r(" 暂停 ",-1))]),_:1},8,["onClick"])):C("",!0),t.status==="paused"?(c(),g(y,{key:1,type:"link",size:"small",onClick:l=>s.handleResume(t)},{default:o(()=>[n(N),e[19]||(e[19]=r(" 继续 ",-1))]),_:1},8,["onClick"])):C("",!0),t.status==="failed"?(c(),g(y,{key:2,type:"link",size:"small",onClick:l=>s.handleRetry(t)},{default:o(()=>[n(A),e[20]||(e[20]=r(" 重试 ",-1))]),_:1},8,["onClick"])):C("",!0),n(y,{type:"link",danger:"",size:"small",onClick:l=>s.handleDelete(t)},{default:o(()=>[n(P),e[21]||(e[21]=r(" 删除 ",-1))]),_:1},8,["onClick"])])):C("",!0)]),_:1},8,["columns","data-source","pagination","loading"])])])}const Ie=Y(me,[["render",ze],["__scopeId","data-v-926d2a1e"]]);export{Ie as default};
