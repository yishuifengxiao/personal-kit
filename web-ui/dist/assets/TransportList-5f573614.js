import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{W as A,a3 as U,a4 as G,p as K,R as q,_ as H,a as v,r as J,T as Q,o as d,g as _,e as u,f as n,w as a,k as y,M as V,b as i,h as l,c,t as T,l as w}from"./index-3cf98693.js";import{a as X,P as Y}from"./PlayCircleOutlined-dd7698c0.js";import{a as Z,b as $,c as ee,F as te}from"./FolderTwoTone-f4272ae3.js";const se={name:"TransportList",components:{SearchOutlined:A,FileOutlined:U,FolderOutlined:G,DeleteOutlined:K,PauseCircleOutlined:X,PlayCircleOutlined:Y,ReloadOutlined:q,FileImageTwoTone:Z,FileTextTwoTone:$,FilePdfTwoTone:ee,FileTwoTone:H,FolderTwoTone:te},setup(){const z=v(!1),t=v(""),k=v(""),s=v(""),f=v([{id:1,name:"document.pdf",type:"download",status:"running",progress:65,speed:"2.5 MB/s",size:10485760,createTime:"2024-01-15 14:30:00"},{id:2,name:"project_folder",type:"upload",status:"success",progress:100,speed:"1.8 MB/s",size:52428800,createTime:"2024-01-15 14:25:00"},{id:3,name:"vacation-photo.jpg",type:"download",status:"failed",progress:45,speed:"0 MB/s",size:3145728,createTime:"2024-01-15 14:20:00"},{id:4,name:"presentation.pptx",type:"upload",status:"paused",progress:30,speed:"0 MB/s",size:15728640,createTime:"2024-01-15 14:15:00"},{id:5,name:"video-tutorial.mp4",type:"download",status:"pending",progress:0,speed:"0 MB/s",size:104857600,createTime:"2024-01-15 14:10:00"},{id:6,name:"notes.txt",type:"upload",status:"running",progress:80,speed:"1.2 MB/s",size:524288,createTime:"2024-01-15 14:05:00"},{id:7,name:"archive.zip",type:"download",status:"success",progress:100,speed:"3.0 MB/s",size:52428800,createTime:"2024-01-15 14:00:00"}]),M=[{title:"名称",dataIndex:"name",key:"name",width:"25%"},{title:"类型",dataIndex:"type",key:"type",width:"8%"},{title:"状态",dataIndex:"status",key:"status",width:"10%"},{title:"进度",dataIndex:"progress",key:"progress",width:"15%"},{title:"速度",dataIndex:"speed",key:"speed",width:"12%"},{title:"大小",dataIndex:"size",key:"size",width:"10%"},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"15%"},{title:"操作",key:"action",width:"15%"}],x=J({current:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showTotal:(e,o)=>`第 ${o[0]}-${o[1]} 条/总共 ${e} 条`}),h=Q(()=>{let e=f.value;return t.value&&(e=e.filter(o=>o.name.toLowerCase().includes(t.value.toLowerCase()))),k.value&&(e=e.filter(o=>o.type===k.value)),s.value&&(e=e.filter(o=>o.status===s.value)),e});return{loading:z,searchName:t,searchType:k,searchStatus:s,transportData:f,columns:M,paginationConfig:x,filteredData:h,getTypeColor:e=>e==="upload"?"blue":"green",getStatusColor:e=>({pending:"default",paused:"warning",running:"processing",success:"success",failed:"error"})[e]||"default",getStatusText:e=>({pending:"未开始",paused:"暂停中",running:"进行中",success:"成功",failed:"失败"})[e]||e,getProgressStatus:e=>e==="success"?"success":e==="failed"?"exception":"active",formatFileSize:e=>{if(e===0)return"0 B";const o=1024,g=["B","KB","MB","GB"],j=Math.floor(Math.log(e)/Math.log(o));return parseFloat((e/Math.pow(o,j)).toFixed(2))+" "+g[j]},isFolder:e=>!e.includes("."),isImage:e=>[".jpg",".jpeg",".png",".gif",".bmp",".svg",".webp"].some(g=>e.toLowerCase().endsWith(g)),isText:e=>[".txt",".md",".doc",".docx",".log"].some(g=>e.toLowerCase().endsWith(g)),isPDF:e=>e.toLowerCase().endsWith(".pdf"),handleSearch:()=>{},handleReset:()=>{t.value="",k.value="",s.value="",y.success("搜索条件已重置")},handlePause:e=>{y.success(`已暂停 ${e.name}`),e.status="paused",e.speed="0 MB/s"},handleResume:e=>{y.success(`已继续 ${e.name}`),e.status="running",e.speed="2.5 MB/s"},handleRetry:e=>{y.success(`已重试 ${e.name}`),e.status="running",e.progress=0,e.speed="1.5 MB/s"},handleDelete:e=>{V.confirm({title:"确认删除",content:`确定要删除传输记录 "${e.name}" 吗？`,onOk(){const o=f.value.findIndex(g=>g.id===e.id);o>-1&&(f.value.splice(o,1),y.success("删除成功"))}})},handleClearAll:()=>{V.confirm({title:"确认清空",content:"确定要清空所有传输记录吗？此操作不可恢复。",okText:"确定",okType:"danger",cancelText:"取消",onOk(){f.value=[],y.success("已清空所有传输记录")}})}}}},ne={class:"transport-list-container"},ae={class:"toolbar"},oe={class:"toolbar-left"},le={class:"search-item"},ie={class:"search-item"},de={class:"search-item"},re={class:"search-buttons"},ue={class:"toolbar-right"},pe={class:"transport-list"},ce={key:0,class:"file-name"},me={key:3,class:"progress-container"},ge={class:"progress-text"},fe={key:4},_e={key:5},ye={key:6,class:"action-buttons"};function Te(z,t,k,s,f,M){const x=i("SearchOutlined"),h=i("a-input"),p=i("a-select-option"),C=i("a-select"),m=i("a-button"),F=i("DeleteOutlined"),O=i("FolderTwoTone"),B=i("FileImageTwoTone"),P=i("FileTextTwoTone"),b=i("FilePdfTwoTone"),I=i("FileTwoTone"),S=i("a-tag"),D=i("a-progress"),R=i("PauseCircleOutlined"),L=i("PlayCircleOutlined"),N=i("ReloadOutlined"),E=i("a-table");return d(),_("div",ne,[u("div",ae,[u("div",oe,[u("div",le,[t[3]||(t[3]=u("span",{class:"search-label"},"名称：",-1)),n(h,{value:s.searchName,"onUpdate:value":t[0]||(t[0]=r=>s.searchName=r),placeholder:"搜索名称",style:{width:"200px","margin-right":"12px"}},{prefix:a(()=>[n(x)]),_:1},8,["value"])]),u("div",ie,[t[7]||(t[7]=u("span",{class:"search-label"},"传输类型：",-1)),n(C,{value:s.searchType,"onUpdate:value":t[1]||(t[1]=r=>s.searchType=r),placeholder:"传输类型",style:{width:"120px","margin-right":"12px"}},{default:a(()=>[n(p,{value:""},{default:a(()=>[...t[4]||(t[4]=[l("全部类型",-1)])]),_:1}),n(p,{value:"upload"},{default:a(()=>[...t[5]||(t[5]=[l("上传",-1)])]),_:1}),n(p,{value:"download"},{default:a(()=>[...t[6]||(t[6]=[l("下载",-1)])]),_:1})]),_:1},8,["value"])]),u("div",de,[t[14]||(t[14]=u("span",{class:"search-label"},"传输状态：",-1)),n(C,{value:s.searchStatus,"onUpdate:value":t[2]||(t[2]=r=>s.searchStatus=r),placeholder:"传输状态",style:{width:"120px","margin-right":"12px"}},{default:a(()=>[n(p,{value:""},{default:a(()=>[...t[8]||(t[8]=[l("全部状态",-1)])]),_:1}),n(p,{value:"pending"},{default:a(()=>[...t[9]||(t[9]=[l("未开始",-1)])]),_:1}),n(p,{value:"paused"},{default:a(()=>[...t[10]||(t[10]=[l("暂停中",-1)])]),_:1}),n(p,{value:"running"},{default:a(()=>[...t[11]||(t[11]=[l("进行中",-1)])]),_:1}),n(p,{value:"success"},{default:a(()=>[...t[12]||(t[12]=[l("成功",-1)])]),_:1}),n(p,{value:"failed"},{default:a(()=>[...t[13]||(t[13]=[l("失败",-1)])]),_:1})]),_:1},8,["value"])]),u("div",re,[n(m,{type:"primary",onClick:s.handleSearch,style:{"margin-right":"8px"}},{default:a(()=>[...t[15]||(t[15]=[l(" 确定 ",-1)])]),_:1},8,["onClick"]),n(m,{onClick:s.handleReset},{default:a(()=>[...t[16]||(t[16]=[l(" 重置 ",-1)])]),_:1},8,["onClick"])])]),u("div",ue,[n(m,{type:"primary",danger:"",onClick:s.handleClearAll},{icon:a(()=>[n(F)]),default:a(()=>[t[17]||(t[17]=l(" 清空记录 ",-1))]),_:1},8,["onClick"])])]),u("div",pe,[n(E,{columns:s.columns,"data-source":s.filteredData,pagination:s.paginationConfig,loading:s.loading,"row-key":"id"},{bodyCell:a(({column:r,record:e})=>[r.key==="name"?(d(),_("div",ce,[s.isFolder(e.name)?(d(),c(O,{key:0,class:"file-icon folder-icon","two-tone-color":"#1890ff"})):s.isImage(e.name)?(d(),c(B,{key:1,class:"file-icon image-icon","two-tone-color":"#52c41a"})):s.isText(e.name)?(d(),c(P,{key:2,class:"file-icon text-icon","two-tone-color":"#722ed1"})):s.isPDF(e.name)?(d(),c(b,{key:3,class:"file-icon pdf-icon","two-tone-color":"#ff4d4f"})):(d(),c(I,{key:4,class:"file-icon file-icon","two-tone-color":"#fa8c16"})),u("span",null,T(e.name),1)])):r.key==="type"?(d(),c(S,{key:1,color:s.getTypeColor(e.type)},{default:a(()=>[l(T(e.type==="upload"?"上传":"下载"),1)]),_:2},1032,["color"])):r.key==="status"?(d(),c(S,{key:2,color:s.getStatusColor(e.status)},{default:a(()=>[l(T(s.getStatusText(e.status)),1)]),_:2},1032,["color"])):r.key==="progress"?(d(),_("div",me,[n(D,{percent:e.progress,status:s.getProgressStatus(e.status),"show-info":!1,size:"small"},null,8,["percent","status"]),u("span",ge,T(e.progress)+"%",1)])):r.key==="speed"?(d(),_("span",fe,T(e.speed||"-"),1)):r.key==="size"?(d(),_("span",_e,T(s.formatFileSize(e.size)),1)):r.key==="action"?(d(),_("div",ye,[e.status==="running"?(d(),c(m,{key:0,type:"link",size:"small",onClick:o=>s.handlePause(e)},{default:a(()=>[n(R),t[18]||(t[18]=l(" 暂停 ",-1))]),_:1},8,["onClick"])):w("",!0),e.status==="paused"?(d(),c(m,{key:1,type:"link",size:"small",onClick:o=>s.handleResume(e)},{default:a(()=>[n(L),t[19]||(t[19]=l(" 继续 ",-1))]),_:1},8,["onClick"])):w("",!0),e.status==="failed"?(d(),c(m,{key:2,type:"link",size:"small",onClick:o=>s.handleRetry(e)},{default:a(()=>[n(N),t[20]||(t[20]=l(" 重试 ",-1))]),_:1},8,["onClick"])):w("",!0),n(m,{type:"link",danger:"",size:"small",onClick:o=>s.handleDelete(e)},{default:a(()=>[n(F),t[21]||(t[21]=l(" 删除 ",-1))]),_:1},8,["onClick"])])):w("",!0)]),_:1},8,["columns","data-source","pagination","loading"])])])}const he=W(se,[["render",Te],["__scopeId","data-v-926d2a1e"]]);export{he as default};
